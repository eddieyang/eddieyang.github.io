<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>你好，GitHub</title>
  </head>
  <body>
    <h1>覺得厲害</h1>
<button id="btn">open https</button>
<button id="btn2">open http</button>

<a aria-disabled="false" rel="nofollow me noopener noreferrer" id="a1" href="http://launch2.yoopayment.com/yxfwl/120606/sender.do?senderKey=c2e83157-c7c8-4fbb-8e3d-bb5114f08fa5">
  a open http
</a>
<a aria-disabled="false" rel="nofollow me noopener noreferrer" id="a2" href="https://www.google.com">
  a open https
</a>
<script>
document.querySelector("#btn").addEventListener("click", () => {
    const p = "https://www.google.com";
    const win = window.open(p, "_blank");
    if (!win) {
      return;
    }
    win.opener = null; // security problem
    if (win.location.href && !win.location.href.startsWith("http")) {
      win.location.href = p;
    }
    win.focus();
});

document.querySelector("#btn2").addEventListener("click", () => {
      const p = "http://launch2.yoopayment.com/yxfwl/120606/sender.do?senderKey=c2e83157-c7c8-4fbb-8e3d-bb5114f08fa5";
      const win = window.open(p, "_blank");
      if (!win) {
        return;
      }
      win.opener = null; // security problem
      if (win.location.href && !win.location.href.startsWith("http")) {
        win.location.href = p;
      }
      win.focus();
  });
var handleWindowPage = (p) => {
  const win = window.open(p, "_blank");
  if (!win) {
    return;
  }
  win.opener = null; // security problem
  if (win.location.href && !win.location.href.startsWith("http")) {
    win.location.href = p;
  }
  win.focus();
};
var onClose;
document.querySelector("#a1").addEventListener("click", (e) => {
  e.preventDefault();
  handleWindowPage("http://launch2.yoopayment.com/yxfwl/120606/sender.do?senderKey=c2e83157-c7c8-4fbb-8e3d-bb5114f08fa5");
  setTimeout(() => {
    typeof onClose === "function" && onClose();
  }, 1000);
  return false;
});

document.querySelector("#a2").addEventListener("click", () => {
  e.preventDefault();
  handleWindowPage("https://www.google.com");
  setTimeout(() => {
    typeof onClose === "function" && onClose();
  }, 1000);
  return false;
});
</script>
  </body>
</html>
